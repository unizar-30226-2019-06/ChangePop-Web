<!DOCTYPE html>
<!-- saved from url=(0042)https://kelpa-api.herokuapp.com/test_login -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body>

<h2>The XMLHttpRequest Object</h2>
<button type="button" onclick="loadDoc(&#39;https://kelpa-api.herokuapp.com/login&#39;)">Login User (pepe)</button>
<button type="button" onclick="my_info(&#39;https://kelpa-api.herokuapp.com/user&#39;)">Get logged userinfo</button>

<div id="demo">{"code": "0", "message": "User: pepe logged", "type": "info"}</div>
<div id="demo2">{"avatar": "https://kelpa-api.herokuapp.com/uploads/3sgldlxaye7z9xxwequn.jpg", "ban_reason": "None", "dni": "12589647", "first_name": "Pepito", "fnac": "1999-11-12", "id": "81", "is_mod": "False", "last_name": "Rodriguez", "mail": "pepe@pepe.es", "nick": "pepe", "phone": "452366981", "place": "Ciudad de Pepe", "points": "0.0", "token": "None"}</div>

<script>

function loadDoc(url) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("demo").innerHTML = this.responseText;
    }
  };  
  xhttp.open("POST", url, true);
  xhttp.setRequestHeader("Content-type", "application/json");
  var data = JSON.stringify({
    "nick": "pepe",
    "pass": "pepe99",
    "remember": true
	});
  xhttp.send(data);
}

function my_info(url) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState) {
      document.getElementById("demo2").innerHTML = this.responseText;
    }
  };  
  xhttp.open("GET", url, true);
  xhttp.send();
}

</script>


</body></html>